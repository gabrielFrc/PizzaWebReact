{"ast":null,"code":"import _objectSpread from\"C:/Users/gabri/Documents/GitHub/PizzaWebReact/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/gabri/Documents/GitHub/PizzaWebReact/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// NODE MODULES\nimport React,{useEffect}from'react';import{useState}from'react';import'./index.css';import{useNavigate}from'react-router-dom';// MY COMPONENTS\nimport LoginSection from'../login-section';import ShowCartList from'../show-cart-list';import BlurConfig from'./blur-config';import Menu from'./menu-config';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Navigation=function Navigation(props){/* Login configs */var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoginOn=_useState2[0],_setLogin=_useState2[1];/* Cart configs */var _useState3=useState({showCart:false,cartQuantity:0}),_useState4=_slicedToArray(_useState3,2),cart=_useState4[0],setCart=_useState4[1];var updateCart=function updateCart(newValue){setCart(function(prevCart){return _objectSpread(_objectSpread({},prevCart),{},{showCart:newValue});});};if(cart.showCart||isLoginOn){document.querySelector('body').classList.add('hide-scroll');}else{document.querySelector('body').classList.remove('hide-scroll');}useEffect(function(){console.log('Funciona');if(!props.isOnMobile){if(props.windowHeight<-40){document.querySelector('header').classList.remove('solid-header');}document.querySelector('.sub-nav').classList.add('display-none');}},[props.isOnMobile,props.windowHeight]);var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),windowHeight=_useState6[0],setWindowHeight=_useState6[1];var lastHeight=windowHeight;var isNegative=false;useEffect(function(){var setHeight=function setHeight(){setWindowHeight(window.scrollY);};document.addEventListener(\"scroll\",setHeight);return function(){return document.removeEventListener(\"scroll\",setHeight);};},[]);useEffect(function(){console.log(windowHeight);//AJEITAR ISSO AQUI\n// if(lastHeight < window.scrollY){\n//     isNegative = true;\n// }\n// else{\n//     isNegative = false;\n// }\n},[windowHeight]);/* Direct configs */var navigate=useNavigate();var directTo=function directTo(id){navigate(\"\".concat(id));};return/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",isNegative===true?/*#__PURE__*/_jsxs(\"header\",{className:props.windowHeight>-40?'solid-header':'transparent-header',children:[/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"main-nav\",children:[/*#__PURE__*/_jsx(\"figure\",{children:/*#__PURE__*/_jsx(\"img\",{style:props.windowHeight<-40?{filter:\"grayscale(100%)\"}:null,className:\"logo-img\",src:process.env.PUBLIC_URL+'/navigation-images/logo.png',alt:\"Site Logo\",onClick:function onClick(){return directTo('/');}})}),/*#__PURE__*/_jsx(Menu,{screenPos:props.windowHeight,isOnMobile:props.isOnMobile})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sub-nav display-none\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"create-button\",children:props.button.map(function(element,i){return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(\"button\",{className:props.windowHeight>-40?'black-letter':'white-letter',onClick:function onClick(){setCart(function(prevCart){return _objectSpread(_objectSpread({},prevCart),{},{showCart:false});});if(element.routeId==='/login')_setLogin(!isLoginOn);return element.redirect?directTo(\"\".concat(element.routeId)):null;},children:element.name})},i);})}),props.showCategories?/*#__PURE__*/_jsx(\"div\",{className:\"cart-button\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){setCart(function(prevCart){return _objectSpread(_objectSpread({},prevCart),{},{showCart:!cart.showCart});});_setLogin(false);},children:[/*#__PURE__*/_jsx(\"div\",{className:\"cart-quantity \".concat(props.windowHeight>-40?'':'filter-grayscale'),children:/*#__PURE__*/_jsx(\"p\",{children:cart.cartQuantity})}),/*#__PURE__*/_jsx(\"p\",{className:props.windowHeight>-40?'black-letter':'white-letter',children:\"Cart\"})]})}):null]})]}),props.extraNav!=null?/*#__PURE__*/_jsx(_Fragment,{children:props.extraNav}):null,props.windowHeight>-40?null:/*#__PURE__*/_jsx(\"hr\",{id:\"navigation-hr\"})]}):null,/*#__PURE__*/_jsx(BlurConfig,{loginState:isLoginOn}),isLoginOn?/*#__PURE__*/_jsx(LoginSection,{setLogin:function setLogin(newValue){_setLogin(newValue);}}):null,cart.showCart?/*#__PURE__*/_jsx(ShowCartList,{quant:cart.cartQuantity,updateCart:updateCart,cartState:cart.showCart}):null]});};export default Navigation;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","LoginSection","ShowCartList","BlurConfig","Menu","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Navigation","props","_useState","_useState2","_slicedToArray","isLoginOn","setLogin","_useState3","showCart","cartQuantity","_useState4","cart","setCart","updateCart","newValue","prevCart","_objectSpread","document","querySelector","classList","add","remove","console","log","isOnMobile","windowHeight","_useState5","_useState6","setWindowHeight","lastHeight","isNegative","setHeight","window","scrollY","addEventListener","removeEventListener","navigate","directTo","id","concat","children","className","style","filter","src","process","env","PUBLIC_URL","alt","onClick","screenPos","button","map","element","i","routeId","redirect","name","showCategories","extraNav","loginState","quant","cartState"],"sources":["C:/Users/gabri/Documents/GitHub/PizzaWebReact/my-app/src/components/navigation/index.js"],"sourcesContent":["// NODE MODULES\r\nimport React, { useEffect } from 'react';\r\nimport { useState } from 'react';\r\nimport './index.css';\r\nimport { useNavigate } from 'react-router-dom';\r\n// MY COMPONENTS\r\nimport LoginSection from '../login-section';\r\nimport ShowCartList from '../show-cart-list';\r\nimport BlurConfig from './blur-config';\r\nimport Menu from './menu-config';\r\n\r\nconst Navigation = (props) => {\r\n    /* Login configs */\r\n    let [isLoginOn, setLogin] = useState(false);\r\n\r\n    /* Cart configs */\r\n    let [cart, setCart] = useState({\r\n        showCart: false,\r\n        cartQuantity: 0\r\n    });\r\n    const updateCart = (newValue) => {\r\n        setCart((prevCart) => ({...prevCart, showCart : newValue}))\r\n    }\r\n    if(cart.showCart || isLoginOn){\r\n        document.querySelector('body').classList.add('hide-scroll')\r\n    }\r\n    else{\r\n        document.querySelector('body').classList.remove('hide-scroll')\r\n    }\r\n\r\n    useEffect(() => {\r\n        console.log('Funciona');\r\n\r\n        if( !props.isOnMobile){\r\n            if(props.windowHeight < -40){\r\n                document.querySelector('header').classList.remove('solid-header');\r\n            }\r\n            document.querySelector('.sub-nav').classList.add('display-none');\r\n        }\r\n\r\n    }, [props.isOnMobile, props.windowHeight])\r\n\r\n    const [windowHeight, setWindowHeight] = useState(0);\r\n    let lastHeight = windowHeight;\r\n    let isNegative = false;\r\n\r\n    useEffect(() => {\r\n        const setHeight = () => {\r\n            setWindowHeight(window.scrollY);\r\n        }\r\n\r\n        document.addEventListener(\"scroll\", setHeight);\r\n\r\n        return () => (\r\n            document.removeEventListener(\"scroll\", setHeight)\r\n        )\r\n    }, [])\r\n    useEffect(() => {\r\n        console.log(windowHeight) //AJEITAR ISSO AQUI\r\n        // if(lastHeight < window.scrollY){\r\n        //     isNegative = true;\r\n        // }\r\n        // else{\r\n        //     isNegative = false;\r\n        // }\r\n    }, [windowHeight])\r\n\r\n    /* Direct configs */\r\n    let navigate = useNavigate();\r\n    const directTo = (id) => {\r\n        navigate(`${id}`);\r\n    }\r\n\r\n    return (\r\n        <> {/* Principal Return */}\r\n            { isNegative === true ? \r\n                <header className={props.windowHeight > -40 ? 'solid-header' : 'transparent-header'}>\r\n                    <nav>\r\n                        <div className='main-nav'>\r\n                            <figure>\r\n                                <img style={props.windowHeight < -40 ? {filter: \"grayscale(100%)\"} : null} \r\n                                    className={`logo-img`} \r\n                                    src={process.env.PUBLIC_URL + '/navigation-images/logo.png'} \r\n                                    alt='Site Logo' \r\n                                    onClick={() => directTo('/')}>\r\n\r\n                                </img>\r\n                            </figure>\r\n                            <Menu screenPos={props.windowHeight} isOnMobile={props.isOnMobile}/>\r\n                        </div>\r\n                        <div className='sub-nav display-none'>\r\n                            <div className='create-button'>\r\n                                {\r\n                                    props.button.map((element, i) => {\r\n                                        return (\r\n                                            <React.Fragment key={i}>\r\n                                                <button className={props.windowHeight > -40 ? 'black-letter' : 'white-letter'} onClick={() => {\r\n                                                    setCart( (prevCart) => ({...prevCart, showCart : false}) );\r\n                                                    \r\n                                                    if(element.routeId === '/login')\r\n                                                        setLogin(!isLoginOn);\r\n                                                    \r\n                                                    return element.redirect ? directTo(`${element.routeId}`) : null\r\n                                                }}>\r\n                                                    {element.name}\r\n                                                </button>\r\n                                            </React.Fragment>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </div>\r\n                            { props.showCategories ?\r\n                                <div className='cart-button'>\r\n                                    <button onClick={() => {\r\n                                        setCart( (prevCart) => ({...prevCart, showCart : !cart.showCart}) );\r\n                                        setLogin(false);\r\n                                    }}>\r\n                                        <div className={`cart-quantity ${props.windowHeight > -40 ? '' : 'filter-grayscale'}`}>\r\n                                            <p>{cart.cartQuantity}</p>\r\n                                        </div>\r\n                                        <p className={props.windowHeight > -40 ? 'black-letter' : 'white-letter'}>Cart</p>\r\n                                    </button>\r\n                                </div> \r\n                                : null\r\n                            }\r\n                        </div>\r\n                    </nav>\r\n                    {props.extraNav != null ? <>{props.extraNav}</> : null}\r\n                    {props.windowHeight > -40 ? null : <hr id='navigation-hr'/>}\r\n                </header>\r\n             : null}\r\n            \r\n            {/* Blur the page when log in */}\r\n            <BlurConfig loginState={isLoginOn}/>\r\n\r\n            {/* Show login & cart configs */}\r\n            {isLoginOn ? <LoginSection setLogin={(newValue) => {\r\n                setLogin(newValue)\r\n            }}/> : null}\r\n            {cart.showCart ? <ShowCartList quant={cart.cartQuantity} \r\n            updateCart={updateCart} cartState={cart.showCart} /> : null}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Navigation;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}