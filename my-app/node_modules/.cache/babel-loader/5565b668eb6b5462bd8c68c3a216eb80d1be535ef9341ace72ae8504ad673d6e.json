{"ast":null,"code":"import _objectSpread from\"C:/Users/gabri/Documents/GitHub/PizzaWebReact/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/gabri/Documents/GitHub/PizzaWebReact/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// NODE MODULES\nimport React,{useEffect,useRef}from'react';import{useState}from'react';import'./index.css';import{useNavigate}from'react-router-dom';// MY COMPONENTS\nimport LoginSection from'../login-section';import ShowCartList from'../show-cart-list';import BlurConfig from'./blur-config';import Menu from'./menu-config';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Navigation=function Navigation(props){/* Login configs */var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoginOn=_useState2[0],_setLogin=_useState2[1];/* Cart configs */var _useState3=useState({showCart:false,cartQuantity:0}),_useState4=_slicedToArray(_useState3,2),cart=_useState4[0],setCart=_useState4[1];var updateCart=function updateCart(newValue){setCart(function(prevCart){return _objectSpread(_objectSpread({},prevCart),{},{showCart:newValue});});};if(cart.showCart||isLoginOn){var _document$querySelect;(_document$querySelect=document.querySelector('body'))===null||_document$querySelect===void 0?void 0:_document$querySelect.classList.add('hide-scroll');}else{var _document$querySelect2;(_document$querySelect2=document.querySelector('body'))===null||_document$querySelect2===void 0?void 0:_document$querySelect2.classList.remove('hide-scroll');}useEffect(function(){if(!props.isOnMobile){var _document$querySelect4;if(props.windowHeight<-40){var _document$querySelect3;(_document$querySelect3=document.querySelector('header'))===null||_document$querySelect3===void 0?void 0:_document$querySelect3.classList.remove('solid-header');}(_document$querySelect4=document.querySelector('.sub-nav'))===null||_document$querySelect4===void 0?void 0:_document$querySelect4.classList.add('display-none');}},[props.isOnMobile,props.windowHeight]);/* Direct configs */var navigate=useNavigate();var directTo=function directTo(id){navigate(\"\".concat(id));};var lastHeight=useRef(0);var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),positive=_useState6[0],setPositive=_useState6[1];useEffect(function(){var scrollHandle=function scrollHandle(){var dif=lastHeight.current-window.scrollY;if(dif<0){lastHeight.current=window.scrollY;setPositive(false);}else if(dif>0){lastHeight.current=window.scrollY;setPositive(true);}};console.log(positive);window.addEventListener('scroll',scrollHandle);});useEffect(function(){setPositive(true);},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",/*#__PURE__*/_jsxs(\"header\",{className:\"\".concat(props.windowHeight>-40?'solid-header':'transparent-header',\" \").concat(positive?null:' hide-nav'),children:[/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"main-nav\",children:[/*#__PURE__*/_jsx(\"figure\",{children:/*#__PURE__*/_jsx(\"img\",{style:props.windowHeight<-40?{filter:\"grayscale(100%)\"}:null,className:\"logo-img\",src:process.env.PUBLIC_URL+'/navigation-images/logo.png',alt:\"Site Logo\",onClick:function onClick(){return directTo('/');}})}),/*#__PURE__*/_jsx(Menu,{screenPos:props.windowHeight,isOnMobile:props.isOnMobile})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sub-nav display-none\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"create-button\",children:props.button.map(function(element,i){return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(\"button\",{className:props.windowHeight>-40?'black-letter':'white-letter',onClick:function onClick(){setCart(function(prevCart){return _objectSpread(_objectSpread({},prevCart),{},{showCart:false});});if(element.routeId==='/login')_setLogin(!isLoginOn);return element.redirect?directTo(\"\".concat(element.routeId)):null;},children:element.name})},i);})}),props.showCategories?/*#__PURE__*/_jsx(\"div\",{className:\"cart-button\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){setCart(function(prevCart){return _objectSpread(_objectSpread({},prevCart),{},{showCart:!cart.showCart});});_setLogin(false);},children:[/*#__PURE__*/_jsx(\"div\",{className:\"cart-quantity \".concat(props.windowHeight>-40?'':'filter-grayscale'),children:/*#__PURE__*/_jsx(\"p\",{children:cart.cartQuantity})}),/*#__PURE__*/_jsx(\"p\",{className:props.windowHeight>-40?'black-letter':'white-letter',children:\"Cart\"})]})}):null]})]}),props.extraNav!=null?/*#__PURE__*/_jsx(_Fragment,{children:props.extraNav}):null,props.windowHeight>-40?null:/*#__PURE__*/_jsx(\"hr\",{id:\"navigation-hr\"})]}),/*#__PURE__*/_jsx(BlurConfig,{loginState:isLoginOn}),isLoginOn?/*#__PURE__*/_jsx(LoginSection,{setLogin:function setLogin(newValue){_setLogin(newValue);}}):null,cart.showCart?/*#__PURE__*/_jsx(ShowCartList,{quant:cart.cartQuantity,updateCart:updateCart,cartState:cart.showCart}):null]});};export default Navigation;","map":{"version":3,"names":["React","useEffect","useRef","useState","useNavigate","LoginSection","ShowCartList","BlurConfig","Menu","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Navigation","props","_useState","_useState2","_slicedToArray","isLoginOn","setLogin","_useState3","showCart","cartQuantity","_useState4","cart","setCart","updateCart","newValue","prevCart","_objectSpread","_document$querySelect","document","querySelector","classList","add","_document$querySelect2","remove","isOnMobile","_document$querySelect4","windowHeight","_document$querySelect3","navigate","directTo","id","concat","lastHeight","_useState5","_useState6","positive","setPositive","scrollHandle","dif","current","window","scrollY","console","log","addEventListener","children","className","style","filter","src","process","env","PUBLIC_URL","alt","onClick","screenPos","button","map","element","i","routeId","redirect","name","showCategories","extraNav","loginState","quant","cartState"],"sources":["C:/Users/gabri/Documents/GitHub/PizzaWebReact/my-app/src/components/navigation/index.js"],"sourcesContent":["// NODE MODULES\r\nimport React, { useEffect, useRef } from 'react';\r\nimport { useState } from 'react';\r\nimport './index.css';\r\nimport { useNavigate } from 'react-router-dom';\r\n// MY COMPONENTS\r\nimport LoginSection from '../login-section';\r\nimport ShowCartList from '../show-cart-list';\r\nimport BlurConfig from './blur-config';\r\nimport Menu from './menu-config';\r\n\r\nconst Navigation = (props) => {\r\n    /* Login configs */\r\n    let [isLoginOn, setLogin] = useState(false);\r\n\r\n    /* Cart configs */\r\n    let [cart, setCart] = useState({\r\n        showCart: false,\r\n        cartQuantity: 0\r\n    });\r\n    const updateCart = (newValue) => {\r\n        setCart((prevCart) => ({...prevCart, showCart : newValue}))\r\n    }\r\n    if(cart.showCart || isLoginOn){\r\n        document.querySelector('body')?.classList.add('hide-scroll')\r\n    }\r\n    else{\r\n        document.querySelector('body')?.classList.remove('hide-scroll')\r\n    }\r\n\r\n    useEffect(() => {\r\n        if( !props.isOnMobile){\r\n            if(props.windowHeight < -40){\r\n                document.querySelector('header')?.classList.remove('solid-header');\r\n            }\r\n            document.querySelector('.sub-nav')?.classList.add('display-none');\r\n        }\r\n\r\n    }, [props.isOnMobile, props.windowHeight])\r\n\r\n    /* Direct configs */\r\n    let navigate = useNavigate();\r\n    const directTo = (id) => {\r\n        navigate(`${id}`);\r\n    }\r\n\r\n    let lastHeight = useRef(0)\r\n    const [positive, setPositive] = useState(false)\r\n\r\n    useEffect(() => {\r\n        const scrollHandle = () => {\r\n            const dif = lastHeight.current - window.scrollY;\r\n            if(dif < 0){\r\n                lastHeight.current = window.scrollY;\r\n                setPositive(false)\r\n            }else if (dif > 0){\r\n                lastHeight.current = window.scrollY;\r\n                setPositive(true)\r\n            }\r\n        }\r\n        console.log(positive)\r\n\r\n        window.addEventListener('scroll', scrollHandle)\r\n    })\r\n    useEffect(() => {\r\n        setPositive(true);\r\n    }, [])\r\n\r\n    return (\r\n        <> {/* Principal Return */}\r\n            { \r\n                <header className={`${props.windowHeight > -40 ? 'solid-header' : 'transparent-header'} ${positive ? null : ' hide-nav'}`}>\r\n                    <nav>\r\n                        <div className='main-nav'>\r\n                            <figure>\r\n                                <img style={props.windowHeight < -40 ? {filter: \"grayscale(100%)\"} : null} \r\n                                    className={`logo-img`} \r\n                                    src={process.env.PUBLIC_URL + '/navigation-images/logo.png'} \r\n                                    alt='Site Logo' \r\n                                    onClick={() => directTo('/')}>\r\n\r\n                                </img>\r\n                            </figure>\r\n                            <Menu screenPos={props.windowHeight} isOnMobile={props.isOnMobile}/>\r\n                        </div>\r\n                        <div className='sub-nav display-none'>\r\n                            <div className='create-button'>\r\n                                {\r\n                                    props.button.map((element, i) => {\r\n                                        return (\r\n                                            <React.Fragment key={i}>\r\n                                                <button className={props.windowHeight > -40 ? 'black-letter' : 'white-letter'} onClick={() => {\r\n                                                    setCart( (prevCart) => ({...prevCart, showCart : false}) );\r\n                                                    \r\n                                                    if(element.routeId === '/login')\r\n                                                        setLogin(!isLoginOn);\r\n                                                    \r\n                                                    return element.redirect ? directTo(`${element.routeId}`) : null\r\n                                                }}>\r\n                                                    {element.name}\r\n                                                </button>\r\n                                            </React.Fragment>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </div>\r\n                            { props.showCategories ?\r\n                                <div className='cart-button'>\r\n                                    <button onClick={() => {\r\n                                        setCart( (prevCart) => ({...prevCart, showCart : !cart.showCart}) );\r\n                                        setLogin(false);\r\n                                    }}>\r\n                                        <div className={`cart-quantity ${props.windowHeight > -40 ? '' : 'filter-grayscale'}`}>\r\n                                            <p>{cart.cartQuantity}</p>\r\n                                        </div>\r\n                                        <p className={props.windowHeight > -40 ? 'black-letter' : 'white-letter'}>Cart</p>\r\n                                    </button>\r\n                                </div> \r\n                                : null\r\n                            }\r\n                        </div>\r\n                    </nav>\r\n                    {props.extraNav != null ? <>{props.extraNav}</> : null}\r\n                    {props.windowHeight > -40 ? null : <hr id='navigation-hr'/>}\r\n                </header>\r\n             }\r\n            \r\n            {/* Blur the page when log in */}\r\n            <BlurConfig loginState={isLoginOn}/>\r\n\r\n            {/* Show login & cart configs */}\r\n            {isLoginOn ? <LoginSection setLogin={(newValue) => {\r\n                setLogin(newValue)\r\n            }}/> : null}\r\n            {cart.showCart ? <ShowCartList quant={cart.cartQuantity} \r\n            updateCart={updateCart} cartState={cart.showCart} /> : null}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Navigation;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}